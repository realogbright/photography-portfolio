const albumData = {
  nature: [
    { src: "albums/nature/P1011037.jpg", iso: "3200", aperture: "f/4.5", shutter: "1/2000", camera: "Panasonic DC-S5M2", lens: "LUMIX S 50/F1.8" },
    { src: "albums/nature/P1011040.jpg", iso: "320", aperture: "f/1.8", shutter: "1/2000", camera: "Panasonic DC-S5M2", lens: "LUMIX S 50/F1.8" },
    { src: "albums/nature/P1011045.jpg", iso: "320", aperture: "f/1.8", shutter: "1/2000", camera: "Panasonic DC-S5M2", lens: "LUMIX S 50/F1.8" },
    { src: "albums/nature/P1011047.jpg", iso: "500", aperture: "f/1.8", shutter: "1/2000", camera: "Panasonic DC-S5M2", lens: "LUMIX S 50/F1.8" },
    { src: "albums/nature/P1011049.jpg", iso: "500", aperture: "f/1.8", shutter: "1/500", camera: "Panasonic DC-S5M2", lens: "LUMIX S 50/F1.8" },
    { src: "albums/nature/P1011050.jpg", iso: "800", aperture: "f/1.8", shutter: "1/800", camera: "Panasonic DC-S5M2", lens: "LUMIX S 50/F1.8" },
    { src: "albums/nature/P1011056.jpg", iso: "640", aperture: "f/1.8", shutter: "1/640", camera: "Panasonic DC-S5M2", lens: "LUMIX S 50/F1.8" },
    { src: "albums/nature/P1011057.jpg", iso: "800", aperture: "f/1.8", shutter: "1/800", camera: "Panasonic DC-S5M2", lens: "LUMIX S 50/F1.8" },
    { src: "albums/nature/P1011058.jpg", iso: "640", aperture: "f/1.8", shutter: "1/640", camera: "Panasonic DC-S5M2", lens: "LUMIX S 50/F1.8" },
    { src: "albums/nature/P1011061.jpg", iso: "6400", aperture: "f/1.8", shutter: "1/6400", camera: "Panasonic DC-S5M2", lens: "LUMIX S 50/F1.8" },
    { src: "albums/nature/P1010939.jpg", iso: "500", aperture: "f/1.8", shutter: "1/500", camera: "Panasonic DC-S5M2", lens: "LUMIX S 50/F1.8" },
    { src: "albums/nature/P1011023.jpg", iso: "100", aperture: "f/2.8", shutter: "1/2000", camera: "Panasonic DC-S5M2", lens: "LUMIX S 50/F1.8" },
    { src: "albums/nature/P1011013.jpg", iso: "320", aperture: "f/2.8", shutter: "1/2500", camera: "Panasonic DC-S5M2", lens: "LUMIX S 50/F1.8" },
    { src: "albums/nature/P1010992.jpg", iso: "1600", aperture: "f/2.8", shutter: "1/2500", camera: "Panasonic DC-S5M2", lens: "LUMIX S 50/F1.8" },
    { src: "albums/nature/P1010989.jpg", iso: "500", aperture: "f/2.8", shutter: "1/2500", camera: "Panasonic DC-S5M2", lens: "LUMIX S 50/F1.8" },
    { src: "albums/nature/P1010982.jpg", iso: "125", aperture: "f/2.8", shutter: "1/125", camera: "Panasonic DC-S5M2", lens: "LUMIX S 50/F1.8" },
    { src: "albums/nature/P1010943.jpg", iso: "320", aperture: "f/1.8", shutter: "1/320", camera: "Panasonic DC-S5M2", lens: "LUMIX S 50/F1.8" },
    { src: "albums/nature/P1010932.jpg", iso: "160", aperture: "f/2.0", shutter: "1/160", camera: "Panasonic DC-S5M2", lens: "LUMIX S 50/F1.8" },
    { src: "albums/nature/P1010929.jpg", iso: "160", aperture: "f/2.0", shutter: "1/160", camera: "Panasonic DC-S5M2", lens: "LUMIX S 50/F1.8" }
  ],
  city: [
    { src: "albums/city/P1011119.jpg", iso: "125", aperture: "f/6.3", shutter: "1/200", camera: "Panasonic DC-S5M2", lens: "LUMIX S 20-60/F3.5-5.6" },
    { src: "albums/city/P1011104.jpg", iso: "640", aperture: "f/5.6", shutter: "1/1000", camera: "Panasonic DC-S5M2", lens: "LUMIX S 20-60/F3.5-5.6" },
    { src: "albums/city/P1011178.jpg", iso: "1000", aperture: "f/8.0", shutter: "1/125", camera: "Panasonic DC-S5M2", lens: "LUMIX S 20-60/F3.5-5.6" },
    { src: "albums/city/P1011167.jpg", iso: "200", aperture: "f/8.0", shutter: "1/125", camera: "Panasonic DC-S5M2", lens: "LUMIX S 20-60/F3.5-5.6" },
    { src: "albums/city/P1011163.jpg", iso: "250", aperture: "f/8.0", shutter: "1/50", camera: "Panasonic DC-S5M2", lens: "LUMIX S 20-60/F3.5-5.6" },
    { src: "albums/city/P1011129.jpg", iso: "400", aperture: "f/5.6", shutter: "1/250", camera: "Panasonic DC-S5M2", lens: "LUMIX S 20-60/F3.5-5.6" },
    { src: "albums/city/P1011131.jpg", iso: "100", aperture: "f/9", shutter: "1/60", camera: "Panasonic DC-S5M2", lens: "LUMIX S 20-60/F3.5-5.6" },
    { src: "albums/city/P1011099.jpg", iso: "500", aperture: "f/4.0", shutter: "1/1000", camera: "Panasonic DC-S5M2", lens: "LUMIX S 20-60/F3.5-5.6" },
    { src: "albums/city/P1011087.jpg", iso: "100", aperture: "f/5.6", shutter: "1/160", camera: "Panasonic DC-S5M2", lens: "LUMIX S 20-60/F3.5-5.6" },
    { src: "albums/city/P1011151.jpg", iso: "100", aperture: "f/8", shutter: "1/60", camera: "Panasonic DC-S5M2", lens: "LUMIX S 20-60/F3.5-5.6" },
    { src: "albums/city/P1011139.jpg", iso: "160", aperture: "f/5", shutter: "1/320", camera: "Panasonic DC-S5M2", lens: "LUMIX S 20-60/F3.5-5.6" },
    { src: "albums/city/P1011140.jpg", iso: "200", aperture: "f/5", shutter: "1/320", camera: "Panasonic DC-S5M2", lens: "LUMIX S 20-60/F3.5-5.6" },
    { src: "albums/city/P1011154.jpg", iso: "320", aperture: "f/8.0", shutter: "1/60", camera: "Panasonic DC-S5M2", lens: "LUMIX S 20-60/F3.5-5.6" },
    { src: "albums/city/P1011164.jpg", iso: "250", aperture: "f/8.0", shutter: "1/50", camera: "Panasonic DC-S5M2", lens: "LUMIX S 20-60/F3.5-5.6" },
    { src: "albums/city/P1011166.jpg", iso: "160", aperture: "f/8.0", shutter: "1/125", camera: "Panasonic DC-S5M2", lens: "LUMIX S 20-60/F3.5-5.6" }
  ],

vegas: [
  { src: "albums/vegas/IMG_4849.jpg", iso: "800", aperture: "f/5.0", shutter: "1/3200", camera: "Canon EOS Rebel T6", lens: "EF-S18-55mm f/3.5-5.6 IS II" },
  { src: "albums/vegas/IMG_4850.jpg", iso: "800", aperture: "f/5.0", shutter: "1/3200", camera: "Canon EOS Rebel T6", lens: "EF-S18-55mm f/3.5-5.6 IS II" },
  { src: "albums/vegas/IMG_4851.jpg", iso: "800", aperture: "f/5.0", shutter: "1/3200", camera: "Canon EOS Rebel T6", lens: "EF-S18-55mm f/3.5-5.6 IS II" },
  { src: "albums/vegas/IMG_4852.jpg", iso: "800", aperture: "f/5.6", shutter: "1/3200", camera: "Canon EOS Rebel T6", lens: "EF-S18-55mm f/3.5-5.6 IS II" },
  { src: "albums/vegas/IMG_4853.jpg", iso: "800", aperture: "f/5.6", shutter: "1/3200", camera: "Canon EOS Rebel T6", lens: "EF-S18-55mm f/3.5-5.6 IS II" },
  { src: "albums/vegas/IMG_4854.jpg", iso: "800", aperture: "f/3.5", shutter: "1/3200", camera: "Canon EOS Rebel T6", lens: "EF-S18-55mm f/3.5-5.6 IS II" },
  { src: "albums/vegas/IMG_4856.jpg", iso: "800", aperture: "f/5.6", shutter: "1/1600", camera: "Canon EOS Rebel T6", lens: "EF-S18-55mm f/3.5-5.6 IS II" },
  { src: "albums/vegas/IMG_4857.jpg", iso: "800", aperture: "f/5.6", shutter: "1/1600", camera: "Canon EOS Rebel T6", lens: "EF-S18-55mm f/3.5-5.6 IS II" },
  { src: "albums/vegas/IMG_4858.jpg", iso: "800", aperture: "f/3.5", shutter: "1/4000", camera: "Canon EOS Rebel T6", lens: "EF-S18-55mm f/3.5-5.6 IS II" },
  { src: "albums/vegas/IMG_4859.jpg", iso: "800", aperture: "f/3.5", shutter: "1/4000", camera: "Canon EOS Rebel T6", lens: "EF-S18-55mm f/3.5-5.6 IS II" },
  { src: "albums/vegas/IMG_4861.jpg", iso: "800", aperture: "f/3.5", shutter: "1/4000", camera: "Canon EOS Rebel T6", lens: "EF-S18-55mm f/3.5-5.6 IS II" },
  { src: "albums/vegas/IMG_4862.jpg", iso: "800", aperture: "f/3.5", shutter: "1/4000", camera: "Canon EOS Rebel T6", lens: "EF-S18-55mm f/3.5-5.6 IS II" },
  { src: "albums/vegas/IMG_4863.jpg", iso: "800", aperture: "f/3.5", shutter: "1/4000", camera: "Canon EOS Rebel T6", lens: "EF-S18-55mm f/3.5-5.6 IS II" },
  { src: "albums/vegas/IMG_4865.jpg", iso: "800", aperture: "f/3.5", shutter: "1/4000", camera: "Canon EOS Rebel T6", lens: "EF-S18-55mm f/3.5-5.6 IS II" },
  { src: "albums/vegas/IMG_4866.jpg", iso: "800", aperture: "f/3.5", shutter: "1/4000", camera: "Canon EOS Rebel T6", lens: "EF-S18-55mm f/3.5-5.6 IS II" },
  { src: "albums/vegas/IMG_4867.jpg", iso: "800", aperture: "f/3.5", shutter: "1/4000", camera: "Canon EOS Rebel T6", lens: "EF-S18-55mm f/3.5-5.6 IS II" },
  { src: "albums/vegas/IMG_4868.jpg", iso: "800", aperture: "f/3.5", shutter: "1/4000", camera: "Canon EOS Rebel T6", lens: "EF-S18-55mm f/3.5-5.6 IS II" },
  { src: "albums/vegas/IMG_4869.jpg", iso: "800", aperture: "f/3.5", shutter: "1/4000", camera: "Canon EOS Rebel T6", lens: "EF-S18-55mm f/3.5-5.6 IS II" },
  { src: "albums/vegas/IMG_4870.jpg", iso: "800", aperture: "f/3.5", shutter: "1/4000", camera: "Canon EOS Rebel T6", lens: "EF-S18-55mm f/3.5-5.6 IS II" },
  { src: "albums/vegas/IMG_4871.jpg", iso: "800", aperture: "f/3.5", shutter: "1/4000", camera: "Canon EOS Rebel T6", lens: "EF-S18-55mm f/3.5-5.6 IS II" },
  { src: "albums/vegas/IMG_4872.jpg", iso: "800", aperture: "f/3.5", shutter: "1/4000", camera: "Canon EOS Rebel T6", lens: "EF-S18-55mm f/3.5-5.6 IS II" },
  { src: "albums/vegas/IMG_4873.jpg", iso: "800", aperture: "f/3.5", shutter: "1/4000", camera: "Canon EOS Rebel T6", lens: "EF-S18-55mm f/3.5-5.6 IS II" },
  { src: "albums/vegas/IMG_4874.jpg", iso: "800", aperture: "f/3.5", shutter: "1/4000", camera: "Canon EOS Rebel T6", lens: "EF-S18-55mm f/3.5-5.6 IS II" },
  { src: "albums/vegas/IMG_4875.jpg", iso: "800", aperture: "f/3.5", shutter: "1/4000", camera: "Canon EOS Rebel T6", lens: "EF-S18-55mm f/3.5-5.6 IS II" }
],

classy: [
  { src: "albums/classy/P1011338.jpg", iso: "1000", aperture: "f/5.6", shutter: "1/500", camera: "Panasonic DC-S5M2", lens: "LUMIX S 20-60/F3.5-5.6" },
  { src: "albums/classy/P1011341.jpg", iso: "1600", aperture: "f/5.6", shutter: "1/500", camera: "Panasonic DC-S5M2", lens: "LUMIX S 20-60/F3.5-5.6" },
  { src: "albums/classy/P1011350.jpg", iso: "125", aperture: "f/7.1", shutter: "1/60", camera: "Panasonic DC-S5M2", lens: "LUMIX S 20-60/F3.5-5.6" },
  { src: "albums/classy/P1011351.jpg", iso: "100", aperture: "f/7.1", shutter: "1/60", camera: "Panasonic DC-S5M2", lens: "LUMIX S 20-60/F3.5-5.6" },
  { src: "albums/classy/P1011353.jpg", iso: "100", aperture: "f/7.1", shutter: "1/60", camera: "Panasonic DC-S5M2", lens: "LUMIX S 20-60/F3.5-5.6" },
  { src: "albums/classy/P1011355.jpg", iso: "100", aperture: "f/5.4", shutter: "1/80", camera: "Panasonic DC-S5M2", lens: "LUMIX S 20-60/F3.5-5.6" },
  { src: "albums/classy/P1011356.jpg", iso: "100", aperture: "f/4.3", shutter: "1/80", camera: "Panasonic DC-S5M2", lens: "LUMIX S 20-60/F3.5-5.6" },
  { src: "albums/classy/P1011357.jpg", iso: "160", aperture: "f/3.5", shutter: "1/250", camera: "Panasonic DC-S5M2", lens: "LUMIX S 20-60/F3.5-5.6" },
  { src: "albums/classy/P1011376.jpg", iso: "800", aperture: "f/5.2", shutter: "1/160", camera: "Panasonic DC-S5M2", lens: "LUMIX S 20-60/F3.5-5.6" },
  { src: "albums/classy/P1011378.jpg", iso: "500", aperture: "f/4.9", shutter: "1/160", camera: "Panasonic DC-S5M2", lens: "LUMIX S 20-60/F3.5-5.6" },
  { src: "albums/classy/P1011383.jpg", iso: "160", aperture: "f/5.6", shutter: "1/60", camera: "Panasonic DC-S5M2", lens: "LUMIX S 20-60/F3.5-5.6" },
  { src: "albums/classy/P1011388.jpg", iso: "100", aperture: "f/7.1", shutter: "1/50", camera: "Panasonic DC-S5M2", lens: "LUMIX S 20-60/F3.5-5.6" }
],

};
let currentAlbum = null;
let currentIndex = 0;

function openAlbum(albumName) {
  if (!albumData[albumName]) return; // Validate album exists
  currentAlbum = albumName;
  const photos = albumData[albumName];
  const grid = document.getElementById("photo-grid");
  grid.innerHTML = "";

  // Display all photos (including cover)
  photos.forEach((photo, index) => {
    const img = document.createElement("img");
    img.src = photo.src;
    img.className = "preview-img";
    img.loading = "lazy"; // Optimize loading
    img.addEventListener("click", () => {
      currentIndex = index;
      openLightbox(photo);
    });
    // Set orientation after loading
    img.onload = () => {
      img.className = img.naturalWidth > img.naturalHeight ? "preview-img landscape" : "preview-img portrait";
    };
    grid.appendChild(img);
  });

  document.getElementById("album-container").style.display = "none";
  document.getElementById("photo-view").style.display = "block";
}

function goBack() {
  document.getElementById("photo-view").style.display = "none";
  document.getElementById("album-container").style.display = "grid";
  document.getElementById("lightbox").style.display = "none";
  currentAlbum = null;
}

function openLightbox(photo) {
  document.getElementById("lightbox-img").src = photo.src;
  document.getElementById("meta-iso").textContent = photo.iso || "-";
  document.getElementById("meta-aperture").textContent = photo.aperture || "-";
  document.getElementById("meta-shutter").textContent = photo.shutter || "-";
  document.getElementById("meta-camera").textContent = photo.camera || "-";
  document.getElementById("meta-lens").textContent = photo.lens || "-";
  document.getElementById("lightbox").style.display = "flex";
}

function closeLightbox() {
  document.getElementById("lightbox").style.display = "none";
}

// Navigation for arrow buttons
document.querySelector(".arrow-btn.left").addEventListener("click", () => {
  if (!currentAlbum) return;
  const photos = albumData[currentAlbum];
  currentIndex = (currentIndex - 1 + photos.length) % photos.length;
  openLightbox(photos[currentIndex]);
});

document.querySelector(".arrow-btn.right").addEventListener("click", () => {
  if (!currentAlbum) return;
  const photos = albumData[currentAlbum];
  currentIndex = (currentIndex + 1) % photos.length;
  openLightbox(photos[currentIndex]);
});

// Close lightbox on background click
document.getElementById("lightbox").addEventListener("click", (e) => {
  if (e.target === e.currentTarget) closeLightbox();
});

// Keyboard navigation
document.addEventListener("keydown", (e) => {
  if (!currentAlbum || document.getElementById("lightbox").style.display !== "flex") return;
  const photos = albumData[currentAlbum];
  if (e.key === "ArrowLeft") {
    currentIndex = (currentIndex - 1 + photos.length) % photos.length;
    openLightbox(photos[currentIndex]);
  } else if (e.key === "ArrowRight") {
    currentIndex = (currentIndex + 1) % photos.length;
    openLightbox(photos[currentIndex]);
  } else if (e.key === "Escape") {
    closeLightbox();
  }
});